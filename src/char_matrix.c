#include <stdio.h>
#include <stdint.h>
#include <string.h>
#include <unistd.h>
#include <pthread.h>

#include "char_matrix.h"

int get_char_matrix(char _char, uint8_t *maxtrx_array)
{
    static uint8_t char_matrix_char_0[] = {0x00,0x00,0xE0,0x0F,0x10,0x10,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00};/*"0",0*/
    static uint8_t char_matrix_char_1[] = {0x00,0x00,0x00,0x00,0x10,0x20,0x10,0x20,0xF8,0x3F,0x00,0x20,0x00,0x20,0x00,0x00};/*"1",0*/
    static uint8_t char_matrix_char_2[] = {0x00,0x00,0x70,0x30,0x08,0x28,0x08,0x24,0x08,0x22,0x08,0x21,0xF0,0x30,0x00,0x00};/*"2",0*/
    static uint8_t char_matrix_char_3[] = {0x00,0x00,0x30,0x18,0x08,0x20,0x08,0x21,0x08,0x21,0x88,0x22,0x70,0x1C,0x00,0x00};/*"3",0*/
    static uint8_t char_matrix_char_4[] = {0x00,0x00,0x00,0x06,0x80,0x05,0x40,0x24,0x30,0x24,0xF8,0x3F,0x00,0x24,0x00,0x24};/*"4",0*/
    static uint8_t char_matrix_char_5[] = {0x00,0x00,0xF8,0x19,0x88,0x20,0x88,0x20,0x88,0x20,0x08,0x11,0x08,0x0E,0x00,0x00};/*"5",0*/
    static uint8_t char_matrix_char_6[] = {0x00,0x00,0xE0,0x0F,0x10,0x11,0x88,0x20,0x88,0x20,0x90,0x20,0x00,0x1F,0x00,0x00};/*"6",0*/
    static uint8_t char_matrix_char_7[] = {0x00,0x00,0x18,0x00,0x08,0x00,0x08,0x3E,0x88,0x01,0x68,0x00,0x18,0x00,0x00,0x00};/*"7",0*/
    static uint8_t char_matrix_char_8[] = {0x00,0x00,0x70,0x1C,0x88,0x22,0x08,0x21,0x08,0x21,0x88,0x22,0x70,0x1C,0x00,0x00};/*"8",0*/
    static uint8_t char_matrix_char_9[] = {0x00,0x00,0xF0,0x01,0x08,0x12,0x08,0x22,0x08,0x22,0x10,0x11,0xE0,0x0F,0x00,0x00};/*"9",0*/

    static uint8_t char_matrix_char_A[] = {0x00,0x20,0x00,0x3C,0xC0,0x23,0x38,0x02,0xE0,0x02,0x00,0x27,0x00,0x38,0x00,0x20};/*"A",0*/
    static uint8_t char_matrix_char_B[] = {0x08,0x20,0xF8,0x3F,0x88,0x20,0x88,0x20,0x88,0x20,0x70,0x11,0x00,0x0E,0x00,0x00};/*"B",0*/
    static uint8_t char_matrix_char_C[] = {0xC0,0x07,0x30,0x18,0x08,0x20,0x08,0x20,0x08,0x20,0x08,0x10,0x38,0x08,0x00,0x00};/*"C",0*/
    static uint8_t char_matrix_char_D[] = {0x08,0x20,0xF8,0x3F,0x08,0x20,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00};/*"D",0*/
    static uint8_t char_matrix_char_E[] = {0x08,0x20,0xF8,0x3F,0x88,0x20,0x88,0x20,0xE8,0x23,0x08,0x20,0x10,0x18,0x00,0x00};/*"E",0*/
    static uint8_t char_matrix_char_F[] = {0x08,0x20,0xF8,0x3F,0x88,0x20,0x88,0x00,0xE8,0x03,0x08,0x00,0x10,0x00,0x00,0x00};/*"F",0*/
    static uint8_t char_matrix_char_G[] = {0xC0,0x07,0x30,0x18,0x08,0x20,0x08,0x20,0x08,0x22,0x38,0x1E,0x00,0x02,0x00,0x00};/*"G",0*/
    static uint8_t char_matrix_char_H[] = {0x08,0x20,0xF8,0x3F,0x08,0x21,0x00,0x01,0x00,0x01,0x08,0x21,0xF8,0x3F,0x08,0x20};/*"H",0*/
    static uint8_t char_matrix_char_I[] = {0x00,0x00,0x08,0x20,0x08,0x20,0xF8,0x3F,0x08,0x20,0x08,0x20,0x00,0x00,0x00,0x00};/*"I",0*/
    static uint8_t char_matrix_char_J[] = {0x00,0xC0,0x00,0x80,0x08,0x80,0x08,0x80,0xF8,0x7F,0x08,0x00,0x08,0x00,0x00,0x00};/*"J",0*/
    static uint8_t char_matrix_char_K[] = {0x08,0x20,0xF8,0x3F,0x88,0x20,0xC0,0x01,0x28,0x26,0x18,0x38,0x08,0x20,0x00,0x00};/*"K",0*/
    static uint8_t char_matrix_char_L[] = {0x08,0x20,0xF8,0x3F,0x08,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x30,0x00,0x00};/*"L",0*/
    static uint8_t char_matrix_char_M[] = {0x08,0x20,0xF8,0x3F,0xF8,0x01,0x00,0x3E,0xF8,0x01,0xF8,0x3F,0x08,0x20,0x00,0x00};/*"M",0*/
    static uint8_t char_matrix_char_N[] = {0x08,0x20,0xF8,0x3F,0x30,0x20,0xC0,0x00,0x00,0x07,0x08,0x18,0xF8,0x3F,0x08,0x00};/*"N",0*/
    static uint8_t char_matrix_char_O[] = {0xE0,0x0F,0x10,0x10,0x08,0x20,0x08,0x20,0x08,0x20,0x10,0x10,0xE0,0x0F,0x00,0x00};/*"O",0*/
    static uint8_t char_matrix_char_P[] = {0x08,0x20,0xF8,0x3F,0x08,0x21,0x08,0x01,0x08,0x01,0x08,0x01,0xF0,0x00,0x00,0x00};/*"P",0*/
    static uint8_t char_matrix_char_Q[] = {0xE0,0x0F,0x10,0x10,0x08,0x28,0x08,0x28,0x08,0x30,0x10,0x50,0xE0,0x4F,0x00,0x00};/*"Q",0*/
    static uint8_t char_matrix_char_R[] = {0x08,0x20,0xF8,0x3F,0x88,0x20,0x88,0x00,0x88,0x03,0x88,0x0C,0x70,0x30,0x00,0x20};/*"R",0*/
    static uint8_t char_matrix_char_S[] = {0x00,0x00,0x70,0x38,0x88,0x20,0x08,0x21,0x08,0x21,0x08,0x22,0x38,0x1C,0x00,0x00};/*"S",0*/
    static uint8_t char_matrix_char_T[] = {0x18,0x00,0x08,0x00,0x08,0x20,0xF8,0x3F,0x08,0x20,0x08,0x00,0x18,0x00,0x00,0x00};/*"T",0*/
    static uint8_t char_matrix_char_U[] = {0x08,0x00,0xF8,0x1F,0x08,0x20,0x00,0x20,0x00,0x20,0x08,0x20,0xF8,0x1F,0x08,0x00};/*"U",0*/
    static uint8_t char_matrix_char_V[] = {0x08,0x00,0x78,0x00,0x88,0x07,0x00,0x38,0x00,0x0E,0xC8,0x01,0x38,0x00,0x08,0x00};/*"V",0*/
    static uint8_t char_matrix_char_W[] = {0x08,0x00,0xF8,0x03,0x00,0x3E,0xF8,0x01,0x00,0x3E,0xF8,0x03,0x08,0x00,0x00,0x00};/*"W",0*/
    static uint8_t char_matrix_char_X[] = {0x08,0x20,0x18,0x30,0x68,0x2C,0x80,0x03,0x80,0x03,0x68,0x2C,0x18,0x30,0x08,0x20};/*"X",0*/
    static uint8_t char_matrix_char_Y[] = {0x08,0x00,0x38,0x00,0xC8,0x20,0x00,0x3F,0xC8,0x20,0x38,0x00,0x08,0x00,0x00,0x00};/*"Y",0*/
    static uint8_t char_matrix_char_Z[] = {0x10,0x20,0x08,0x38,0x08,0x26,0x08,0x21,0xC8,0x20,0x38,0x20,0x08,0x18,0x00,0x00};/*"Z",0*/

    static uint8_t char_matrix_char_dot[] = {0x00,0x00,0x00,0x30,0x00,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*".",0*/
    static uint8_t char_matrix_char_dash[] = {0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00};/*"-",0*/
    static uint8_t char_matrix_char_space[] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*" ",0*/


#if 0
    //for check direction
    static uint8_t char_matrix_char_a[] = {0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*"0",0*/
    static uint8_t char_matrix_char_b[] = {0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF};/*"0",0*/
#endif

    int find = -1, i;
    uint8_t *char_matrix;

    char _input_char = _char;

    if(_input_char == '0') {
        find = 0;
        char_matrix = char_matrix_char_0;
    }

    if(_input_char == '1') {
        find = 0;
        char_matrix = char_matrix_char_1;
    }

    if(_input_char == '2') {
        find = 0;
        char_matrix = char_matrix_char_2;
    }

    if(_input_char == '3') {
        find = 0;
        char_matrix = char_matrix_char_3;
    }

    if(_input_char == '4') {
        find = 0;
        char_matrix = char_matrix_char_4;
    }
    
    if(_input_char == '5') {
        find = 0;
        char_matrix = char_matrix_char_5;
    }
    
    if(_input_char == '6') {
        find = 0;
        char_matrix = char_matrix_char_6;
    }

    if(_input_char == '7') {
        find = 0;
        char_matrix = char_matrix_char_7;
    }

    if(_input_char == '8') {
        find = 0;
        char_matrix = char_matrix_char_8;
    }

    if(_input_char == '9') {
        find = 0;
        char_matrix = char_matrix_char_9;
    }


    if(_input_char == 'A') {
        find = 0;
        char_matrix = char_matrix_char_A;
    }

    if(_input_char == 'B') {
        find = 0;
        char_matrix = char_matrix_char_B;
    }

    if(_input_char == 'C') {
        find = 0;
        char_matrix = char_matrix_char_C;
    }

    if(_input_char == 'D') {
        find = 0;
        char_matrix = char_matrix_char_D;
    }

    if(_input_char == 'E') {
        find = 0;
        char_matrix = char_matrix_char_E;
    }

    if(_input_char == 'F') {
        find = 0;
        char_matrix = char_matrix_char_F;
    }

    if(_input_char == 'G') {
        find = 0;
        char_matrix = char_matrix_char_G;
    }

    if(_input_char == 'H') {
        find = 0;
        char_matrix = char_matrix_char_H;
    }

    if(_input_char == 'I') {
        find = 0;
        char_matrix = char_matrix_char_I;
    }

    if(_input_char == 'J') {
        find = 0;
        char_matrix = char_matrix_char_J;
    }

    if(_input_char == 'K') {
        find = 0;
        char_matrix = char_matrix_char_K;
    }

    if(_input_char == 'L') {
        find = 0;
        char_matrix = char_matrix_char_L;
    }

    if(_input_char == 'M') {
        find = 0;
        char_matrix = char_matrix_char_M;
    }

    if(_input_char == 'N') {
        find = 0;
        char_matrix = char_matrix_char_N;
    }

    if(_input_char == 'O') {
        find = 0;
        char_matrix = char_matrix_char_O;
    }

    if(_input_char == 'P') {
        find = 0;
        char_matrix = char_matrix_char_P;
    }

    if(_input_char == 'S') {
        find = 0;
        char_matrix = char_matrix_char_Q;
    }

    if(_input_char == 'R') {
        find = 0;
        char_matrix = char_matrix_char_R;
    }

    if(_input_char == 'S') {
        find = 0;
        char_matrix = char_matrix_char_S;
    }

    if(_input_char == 'T') {
        find = 0;
        char_matrix = char_matrix_char_T;
    }

    if(_input_char == 'U') {
        find = 0;
        char_matrix = char_matrix_char_U;
    }

    if(_input_char == 'V') {
        find = 0;
        char_matrix = char_matrix_char_V;
    }

    if(_input_char == 'W') {
        find = 0;
        char_matrix = char_matrix_char_W;
    }

    if(_input_char == 'X') {
        find = 0;
        char_matrix = char_matrix_char_X;
    }

    if(_input_char == 'Y') {
        find = 0;
        char_matrix = char_matrix_char_Y;
    }

    if(_input_char == 'Z') {
        find = 0;
        char_matrix = char_matrix_char_Z;
    }


    if(_input_char == '.') {
        find = 0;
        char_matrix = char_matrix_char_dot;
    }

    if(_input_char == '-') {
        find = 0;
        char_matrix = char_matrix_char_dash;
    }

    if(_input_char == ' ') {
        find = 0;
        char_matrix = char_matrix_char_space;
    }


#if 0
    //for check direction
    if(_input_char == 'a') {
        find = 0;
        char_matrix = char_matrix_char_a;
    }

    if(_input_char == 'b') {
        find = 0;
        char_matrix = char_matrix_char_b;
    }
#endif

    if(find < 0){
        
        printf("get_char_matrix unknow char_matrix %c\n", _input_char);
        return -1;
    
    } else {
        
        for(i = 0;i < CHAR_MATRIX_CHAR_MATRIX_SIZE_IN_BYTE;i++) {
            maxtrx_array[i] = char_matrix[i];
        }
        return 0;
    }

    return find;
}
